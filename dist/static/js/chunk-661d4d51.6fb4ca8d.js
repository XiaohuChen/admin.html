(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-661d4d51"],{"3aff":function(e,t,l){},4381:function(e,t,l){"use strict";l("40c5"),l("23cc");var a=l("4360"),i={inserted:function(e,t,l){var i=t.value,n=a["a"].getters&&a["a"].getters.roles;if(!(i&&i instanceof Array&&i.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var o=i;if("*"!=n){var r=n.some((function(e){return o.includes(e)}));r||e.parentNode&&e.parentNode.removeChild(e)}}},n=function(e){e.directive("permission",i)};window.Vue&&(window["permission"]=i,Vue.use(n)),i.install=n;t["a"]=i},6724:function(e,t,l){"use strict";l("8d41");var a="@@wavesContext";function i(e,t){function l(l){var a=Object.assign({},t.value),i=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),n=i.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var o=n.getBoundingClientRect(),r=n.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(o.width,o.height)+"px",n.appendChild(r)),i.type){case"center":r.style.top=o.height/2-r.offsetHeight/2+"px",r.style.left=o.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(l.pageY-o.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(l.pageX-o.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=i.color,r.className="waves-ripple z-active",!1}}return e[a]?e[a].removeHandle=l:e[a]={removeHandle:l},l}var n={bind:function(e,t){e.addEventListener("click",i(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[a].removeHandle,!1),e.addEventListener("click",i(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[a].removeHandle,!1),e[a]=null,delete e[a]}},o=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(o)),n.install=o;t["a"]=n},"8d41":function(e,t,l){},ac82:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:["/community/add"],expression:"['/community/add']"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[l("i",{staticClass:"el-icon-plus"}),e._v("  添加等级\n    ")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[l("el-table-column",{attrs:{prop:"Id",label:"ID",align:"center",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Name",label:"等级名称",align:"center",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"InviteNumber",align:"center",label:"有效直推数量"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Achive",align:"center",label:"伞下业绩"}}),e._v(" "),l("el-table-column",{attrs:{prop:"PlanLevel",align:"center",label:"预约等级"}}),e._v(" "),l("el-table-column",{attrs:{prop:"HasLevel",align:"center",label:"5代内出现社区等级"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Ratio",align:"center",label:"社区收益比例"}}),e._v(" "),l("el-table-column",{attrs:{label:"全球分红",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.World>0?l("span",[e._v("是")]):l("span",[e._v("否")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("span",{directives:[{name:"permission",rawName:"v-permission",value:["/community/edit"],expression:"['/community/edit']"}]},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(l){return e.edit(t.row.Id)}}},[e._v("\n              编辑\n            ")])],1)])]}}])})],1),e._v(" "),l("el-dialog",{attrs:{title:"编辑等级",visible:e.editCommunityVisible},on:{"update:visible":function(t){e.editCommunityVisible=t}}},[l("el-form",[l("el-form-item",{attrs:{label:"等级","label-width":"70px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.editForm.Level,callback:function(t){e.$set(e.editForm,"Level",t)},expression:"editForm.Level"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"等级名称","label-width":"70px"}},[l("el-input",{model:{value:e.editForm.Name,callback:function(t){e.$set(e.editForm,"Name",t)},expression:"editForm.Name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"有效直推数","label-width":"85px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.editForm.InviteNumber,callback:function(t){e.$set(e.editForm,"InviteNumber",t)},expression:"editForm.InviteNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"伞下业绩","label-width":"85px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.editForm.Achive,callback:function(t){e.$set(e.editForm,"Achive",t)},expression:"editForm.Achive"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"五代内出现社区等级"}},[l("el-select",{attrs:{placeholder:"五代内出现社区等级"},model:{value:e.editForm.HasLevel,callback:function(t){e.$set(e.editForm,"HasLevel",t)},expression:"editForm.HasLevel"}},[l("el-option",{attrs:{label:"无",value:0}}),e._v(" "),e._l(e.tableData,(function(e,t){return l("el-option",{key:t,attrs:{label:e.Name,value:e.Level}})}))],2)],1),e._v(" "),l("el-form-item",{attrs:{label:"预约等级"}},[l("el-select",{attrs:{placeholder:"预约等级"},model:{value:e.editForm.PlanLevel,callback:function(t){e.$set(e.editForm,"PlanLevel",t)},expression:"editForm.PlanLevel"}},e._l(e.planList,(function(e,t){return l("el-option",{key:t,attrs:{label:e.Level,value:e.Level}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"全球分红"}},[l("el-select",{attrs:{placeholder:"预约等级"},model:{value:e.editForm.World,callback:function(t){e.$set(e.editForm,"World",t)},expression:"editForm.World"}},[l("el-option",{attrs:{label:"否",value:0}}),e._v(" "),l("el-option",{attrs:{label:"是",value:1}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"社区收益(1为100%)","label-width":"85px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.editForm.Ratio,callback:function(t){e.$set(e.editForm,"Ratio",t)},expression:"editForm.Ratio"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"添加等级",visible:e.addCommunityVisible},on:{"update:visible":function(t){e.addCommunityVisible=t}}},[l("el-form",[l("el-form-item",{attrs:{label:"等级","label-width":"70px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.addForm.Level,callback:function(t){e.$set(e.addForm,"Level",t)},expression:"addForm.Level"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"等级名称","label-width":"70px"}},[l("el-input",{model:{value:e.addForm.Name,callback:function(t){e.$set(e.addForm,"Name",t)},expression:"addForm.Name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"有效直推数","label-width":"85px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.addForm.InviteNumber,callback:function(t){e.$set(e.addForm,"InviteNumber",t)},expression:"addForm.InviteNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"伞下业绩","label-width":"85px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.addForm.Achive,callback:function(t){e.$set(e.addForm,"Achive",t)},expression:"addForm.Achive"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"五代内出现社区等级"}},[l("el-select",{attrs:{placeholder:"五代内出现社区等级"},model:{value:e.addForm.HasLevel,callback:function(t){e.$set(e.addForm,"HasLevel",t)},expression:"addForm.HasLevel"}},[l("el-option",{attrs:{label:"无",value:0}}),e._v(" "),e._l(e.tableData,(function(e,t){return l("el-option",{key:t,attrs:{label:e.Name,value:e.Level}})}))],2)],1),e._v(" "),l("el-form-item",{attrs:{label:"预约等级"}},[l("el-select",{attrs:{placeholder:"预约等级"},model:{value:e.addForm.PlanLevel,callback:function(t){e.$set(e.addForm,"PlanLevel",t)},expression:"addForm.PlanLevel"}},e._l(e.planList,(function(e,t){return l("el-option",{key:t,attrs:{label:e.Level,value:e.Level}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"全球分红"}},[l("el-select",{attrs:{placeholder:"预约等级"},model:{value:e.addForm.World,callback:function(t){e.$set(e.addForm,"World",t)},expression:"addForm.World"}},[l("el-option",{attrs:{label:"否",value:0}}),e._v(" "),l("el-option",{attrs:{label:"是",value:1}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"社区收益(1为100%)","label-width":"85px"}},[l("el-input",{attrs:{type:"number"},model:{value:e.addForm.Ratio,callback:function(t){e.$set(e.addForm,"Ratio",t)},expression:"addForm.Ratio"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("确 定")])],1)],1)],1)},i=[],n=(l("aede"),l("3aff"),l("b775"));function o(e){return Object(n["a"])({url:"/community/list",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/community/get",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/community/edit",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/community/add",method:"get",params:e})}var c=l("c7a8"),m=l("6724"),u=l("4381"),v={name:"RuleList",directives:{waves:m["a"],permission:u["a"]},data:function(){return{tableData:[],listLoading:!0,editCommunityVisible:!1,addCommunityVisible:!1,planList:[],editForm:{Level:"",Name:"",InviteNumber:"",Achive:"",HasLevel:"",PlanLevel:"",World:"",Ratio:""},addForm:{Level:"",Name:"",InviteNumber:"",Achive:"",HasLevel:0,PlanLevel:0,World:0,Ratio:""}}},created:function(){this.init()},methods:{init:function(){var e=this;this.listLoading=!0,o({}).then((function(t){e.tableData=t.data,setTimeout((function(){e.listLoading=!1}),300)}))},edit:function(e){var t=this;r({Id:e}).then((function(e){t.editForm=e.data})),Object(c["d"])({}).then((function(e){t.planList=e.data})),this.editForm.Id=e,this.editCommunityVisible=!0},handleEdit:function(){var e=this;s(this.editForm).then((function(t){2e4==t.code&&(e.$message({message:"社区等级已修改",type:"success"}),e.init(),e.editCommunityVisible=!1)}))},add:function(){var e=this;Object(c["d"])({}).then((function(t){e.planList=t.data})),this.addCommunityVisible=!0},handleAdd:function(){var e=this;d(this.addForm).then((function(t){2e4==t.code&&(e.$message({message:"社区等级已添加",type:"success"}),e.init(),e.addCommunityVisible=!1)}))}}},p=v,b=l("6691"),f=Object(b["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},aede:function(e,t,l){},c7a8:function(e,t,l){"use strict";l.d(t,"d",(function(){return i})),l.d(t,"b",(function(){return n})),l.d(t,"c",(function(){return o})),l.d(t,"a",(function(){return r}));var a=l("b775");function i(e){return Object(a["a"])({url:"/plan/list",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/plan/detail",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/plan/edit",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/plan/add",method:"post",data:e})}}}]);